# Tiaoom 游戏开发 Skills

一套结构化的 Claude Skills，用于帮助开发者在 Tiaoom 竞技大厅平台快速开发高质量的多人在线游戏。

## 概述

Tiaoom 是基于 Node.js、TypeScript、Vue 3 的实时多人在线游戏平台。本 Skills 集合提供完整的开发指南、最佳实践和代码示例，帮助开发者从零开始实现游戏。

**平台信息**
- 官方网址：https://room.adventext.fun
- GitHub 仓库：https://github.com/FishPiOffical/tiaoom
- 技术栈：TypeScript + Node.js + Vue 3 + WebSocket + TailwindCSS

---

## Skills 导航

### 📘 核心 Skill

#### **Tiaoom 竞技大厅游戏开发助手** → [game-development.md](./game-development.md)

完整的游戏开发指南 - 从入门到精通

**核心内容**
- ✅ 完整的架构概述
- ✅ 后端开发规范和 API 参考
- ✅ 前端开发指南和组件库
- ✅ 倒计时、数据管理、回放等高级功能
- ✅ 完整的示例游戏代码
- ✅ 最佳实践和常见问题解答

**适用场景**
- 🎮 为 Tiaoom 开发新游戏
- 📚 学习 Tiaoom 架构和设计模式
- 🐛 调试和优化游戏
- ⚙️ 实现复杂的游戏功能

---

## 快速开始

### 1️⃣ 了解平台架构
1. 阅读本文档的"核心概念"部分
2. 浏览 Skill 中的"环境要求"和"项目架构"

### 2️⃣ 准备开发环境
```bash
# 克隆项目
git clone https://github.com/FishPiOffical/tiaoom.git
cd tiaoom/game

# 安装依赖
npm install

# 启动开发服务
npm run dev
```

### 3️⃣ 选择学习资源
- **完全新手**：从"核心 Skill"的开始部分读起
- **有经验的开发者**：直接查阅相关功能章节
- **遇到问题**：参考"常见问题"部分

### 4️⃣ 开发你的游戏
1. 创建后端游戏逻辑文件
2. 创建前端游戏组件
3. 本地测试和调试
4. 部署到生产环境

---

## 核心概念

### 平台架构

```
┌────────────────────────────────────────┐
│      Tiaoom 竞技大厅平台               │
├────────────────────┬──────────────────┤
│   后端服务器        │   前端应用        │
│  (Node.js + TS)    │   (Vue 3 + TS)   │
├────────────────────┼──────────────────┤
│ • GameRoom 逻辑    │ • 游戏组件        │
│ • WebSocket 通信   │ • 状态管理        │
│ • 数据持久化       │ • UI/交互         │
│ • 倒计时管理       │ • 实时更新        │
│ • 积分系统         │ • 消息展示        │
└────────────────────┴──────────────────┘
          ↕ WebSocket 双向通信
          ↕ JSON 序列化消息
```

### 开发流程

```
需求分析
   ↓
设计游戏规则和流程
   ↓
创建后端 GameRoom 类
   ├─ 实现 onStart() 初始化
   ├─ 实现 onCommand() 处理指令
   └─ 实现 getStatus() 恢复状态
   ↓
创建前端 Vue 组件
   ├─ 游戏主界面
   ├─ 玩家交互逻辑
   └─ 状态实时更新
   ↓
连接前后端
   ├─ WebSocket 通信
   ├─ 消息序列化
   └─ 事件监听
   ↓
测试和调试
   ├─ 单人测试
   ├─ 多人测试
   └─ 性能优化
   ↓
部署上线
```

### 关键概念速查

| 概念 | 说明 |
|------|------|
| **GameRoom** | 游戏逻辑的基类，继承它来实现你的游戏 |
| **onStart()** | 游戏开始时调用，初始化游戏状态 |
| **onCommand()** | 接收玩家指令时调用，处理游戏逻辑 |
| **getStatus()** | 获取当前游戏状态，用于断线重连 |
| **command()** | 向客户端广播游戏指令 |
| **commandTo()** | 向指定客户端发送指令 |
| **Room** | 房间实例，代表一场游戏 |
| **RoomPlayer** | 房间内的玩家对象 |

---

## 使用建议

### 🎯 根据你的需要选择学习路径

**路径 A：我想快速开发一个简单游戏**
1. 阅读"核心 Skill"中的"完整示例"
2. 在示例基础上修改你的游戏逻辑
3. 测试和部署

**路径 B：我想深入理解 Tiaoom 架构**
1. 阅读"环境要求"和"项目架构"
2. 学习"后端开发规范"
3. 学习"前端开发规范"
4. 研究完整示例的实现细节
5. 开发自己的游戏

**路径 C：我遇到了具体问题**
1. 在"常见问题"中搜索相关主题
2. 查阅对应功能的实现章节
3. 使用提供的代码示例进行修改

### 📖 如何有效地使用 Skill

**上传 Skill**
```
在 Claude 对话中上传 game-development.md 文件
或直接复制内容粘贴到对话框
```

**提出具体问题**
```
"我想为 Tiaoom 开发一个记忆力翻牌游戏，需要什么步骤？"
"如何实现一个 30 秒的倒计时并在时间到时自动处理？"
"游戏玩到一半用户断线重连了，我怎样恢复游戏状态？"
```

**获得即时帮助**
```
Claude 会提供：
• 完整的代码实现
• 详细的解释说明
• 最佳实践建议
• 常见陷阱提醒
```

### 💡 推荐工作流

**第一天**
- ✅ 搭建开发环境
- ✅ 阅读平台架构
- ✅ 运行示例游戏

**第二天**
- ✅ 学习后端开发规范
- ✅ 学习前端开发规范
- ✅ 创建你的第一个简单游戏

**第三天**
- ✅ 实现游戏特性（倒计时、数据管理等）
- ✅ 本地多人测试
- ✅ 优化性能

**第四天**
- ✅ 部署到生产环境
- ✅ 在官方平台测试
- ✅ 收集反馈并迭代

---

## 示例游戏：抢数字

本 Skills 集合包含一个完整的示例游戏，演示了所有核心功能。

**游戏规则**
- 两个玩家轮流点击按钮
- 每次点击增加 1-4（随机）
- 当计数达到目标数字时，当前玩家获胜
- 如果计数超过目标数字，则平局

**实现亮点**
- ✅ 轮流制的回合管理
- ✅ 实时状态同步
- ✅ 断线重连支持
- ✅ 游戏回放功能
- ✅ 成就和积分系统

**学习价值**
从这个例子，你可以学到：
- 完整的后端实现流程
- 完整的前端实现流程
- 后端和前端的集成方式
- 如何处理游戏结束和状态保存

---

## 常见问题速查

### 开发相关

**Q: 游戏逻辑代码放在哪里？**
A: `backend/src/games/MyGame.ts`

**Q: 游戏界面代码放在哪里？**
A: `frontend/src/components/games/MyGameRoom.vue`

**Q: 我是 Vue 新手，能开发 Tiaoom 游戏吗？**
A: 可以！Skill 中有完整的 Vue 示例和最佳实践指导。

**Q: 我是后端开发者，需要懂 Vue 吗？**
A: 需要基础了解。但如果只做后端部分，可以与前端开发者合作。

### 运行相关

**Q: 开发服务启动不了？**
A: 检查 Node.js 版本（需要 >= 20.x）、npm 版本和依赖是否完整安装。

**Q: 代码改了但没有热更新？**
A: 尝试手动刷新浏览器，或检查 npm run dev 是否正确启动。

**Q: 后端和前端无法通信？**
A: 检查 WebSocket 连接、服务器日志和浏览器控制台。

### 功能相关

**Q: 怎样实现倒计时？**
A: 查看 Skill 中的"倒计时实现"章节，有完整的代码示例。

**Q: 服务器重启后游戏状态丢失？**
A: 需要正确实现 `getData()` 和 `getStatus()` 方法。详见"常见问题"。

**Q: 怎样计算和发放积分？**
A: 查看"积分系统"章节，了解 `saveAchievements()` 的使用。

**Q: 如何实现游戏回放？**
A: 查看"游戏回放"章节，学习数据记录和回放组件的实现。

---

## 技术栈参考

### 前端技术栈

| 技术 | 用途 | 版本 |
|------|------|------|
| Vue 3 | UI 框架 | ^3.0.0 |
| TypeScript | 类型安全 | ^5.0.0 |
| Vite | 构建工具 | ^5.0.0 |
| TailwindCSS | 样式框架 | ^3.0.0 |
| Pinia | 状态管理 | ^2.0.0 |
| Iconify | 图标库 | 预置 |

### 后端技术栈

| 技术 | 用途 | 版本 |
|------|------|------|
| Node.js | 运行环境 | >= 20.x |
| TypeScript | 类型安全 | ^5.0.0 |
| Express | Web 框架 | ^4.0.0 |
| WebSocket | 实时通信 | ws ^14.0.0 |
| TypeORM | ORM | ^0.3.0 |
| MySQL | 数据库 | ^8.0 |

### 项目结构

```
tiaoom/
├── game/
│   ├── backend/
│   │   ├── src/
│   │   │   ├── games/
│   │   │   │   ├── MyGame.ts         # 你的游戏逻辑
│   │   │   │   └── ...
│   │   │   ├── controller.ts
│   │   │   ├── socket.ts
│   │   │   └── ...
│   │   └── package.json
│   │
│   ├── frontend/
│   │   ├── src/
│   │   │   ├── components/
│   │   │   │   └── games/
│   │   │   │       ├── MyGameRoom.vue      # 游戏主组件
│   │   │   │       ├── MyGameLite.vue     # 小窗组件（可选）
│   │   │   │       └── MyGameReplay.vue   # 回放组件（可选）
│   │   │   ├── stores/
│   │   │   ├── router/
│   │   │   └── ...
│   │   └── package.json
│   │
│   └── skills/                          # 文档和 Skills（本文件所在目录）
│       ├── README.md                    # 本文件
│       └── game-development.md          # 核心 Skill
│
├── lib/
│   └── client.ts                        # 客户端 SDK
│
└── package.json
```

---

## 获取帮助

### 📚 官方资源

- **项目仓库**：https://github.com/FishPiOffical/tiaoom
- **在线体验**：https://room.adventext.fun
- **完整文档**：https://github.com/FishPiOffical/tiaoom/tree/main/docs
- **API 参考**：https://github.com/FishPiOffical/tiaoom/tree/main/docs/guide

### 🤝 社区支持

- 提交 Issue：在 GitHub 上报告问题
- 参与讨论：贡献想法和建议
- 分享游戏：展示你的作品

### 🔧 故障排查

1. **查阅常见问题**：本文档的"常见问题"部分
2. **查看 Skill 详情**：game-development.md 中的相关章节
3. **检查项目日志**：后端和前端的控制台输出
4. **搜索 GitHub Issues**：是否有类似的问题报告

---

## 版本信息

- **最后更新**：2026 年 2 月
- **适用版本**：Tiaoom ^1.0.0
- **遵循标准**：Agent Skills 最新协议
- **维护状态**：✅ 活跃维护

---

## 关于本 Skills 集合

本 Skills 集合遵循 Anthropic Agent Skills 最新协议，采用结构化设计，提供：

✅ **清晰的层级结构** - 从概览到细节的渐进式学习  
✅ **实用的代码示例** - 即插即用的完整代码  
✅ **最佳实践指导** - 经过验证的开发模式  
✅ **完整的参考文档** - 详细的 API 和功能说明  
✅ **常见问题解答** - 快速定位和解决问题  

**开始开发你的第一个 Tiaoom 游戏吧！** 🚀
